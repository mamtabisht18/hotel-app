{"version":3,"sources":["components/TopNav.js","components/PrivateRoute.js","mocks/hotel.js","mocks/search-hotels.js","mocks/user-bookings.js","actions/hotel.js","actions/stripe.js","components/cards/SmallCard.js","components/forms/Search.js","booking/Home.js","actions/auth.js","components/LoginForm.js","mocks/user.js","auth/Login.js","components/RegisterForm.js","auth/Register.js","components/DashboardNav.js","components/ConnectNav.js","components/modals/OrderModal.js","components/cards/BookingCard.js","user/Dashboard.js","user/DashboardSeller.js","components/forms/HotelCreateForm.js","hotels/NewHotel.js","stripe/StripeCallback.js","components/forms/HotelEditForm.js","hotels/EditHotel.js","hotels/ViewHotel.js","stripe/StripeSuccess.js","stripe/StripeCancel.js","hotels/SearchResult.js","App.js","reducers/auth.js","reportWebVitals.js","reducers/index.js","index.js"],"names":["TopNav","dispatch","useDispatch","auth","useSelector","state","history","useHistory","className","to","href","onClick","type","payload","window","localStorage","removeItem","push","PrivateRoute","rest","token","HOTELS","_id","title","location","postedBy","name","price","from","Date","image","bed","content","HOTELS_MOCK","data","getSelectedHotel","id","find","hotel","searchHotels","query","results","filter","hotes","indexOf","console","log","BOOKINGS_HOTELS_MOCK","session","currency","amount_total","customer","payment_status","payment_intent","orderedBy","createHotel","a","axios","post","process","headers","Authorization","allHotels","diffDays","start","end","Math","round","abs","sellerHotels","get","deleteHotel","hotelId","delete","read","updateHotel","put","userHotelBookings","isAlreadyBooked","ok","searchListings","createConnectAccount","getAccountStatus","getAccountBalance","currencyFormatter","amount","toLocaleString","style","getSessionId","stripeSuccessRequest","SmallCard","h","handleHotelDelete","f","owner","showViewMoreButton","src","alt","substring","toLocaleDateString","EditOutlined","DeleteOutlined","RangePicker","DatePicker","Option","Select","config","appId","apiKey","language","Search","useState","setLocation","date","setDate","setBed","placeholder","defaultValue","options","onChange","suggestion","value","height","dateString","disabledDate","current","valueOf","moment","subtract","size","SearchOutlined","Home","hotels","setHotels","useEffect","loadAllhotels","res","map","register","user","updateUserInLocalStorage","next","getItem","JSON","parse","setItem","stringify","LoginForm","handleSubmit","email","setEmail","password","setPassword","onSubmit","e","target","disabled","LOGIN_MOCK","createdAt","Login","preventDefault","err","response","status","toast","error","RegisterForm","setName","Register","success","DashboardNav","active","pathname","Meta","Card","ConnectNav","Badge","Ribbon","setBalance","then","avatar","description","fromNow","OrderModal","showModal","setShowModal","visible","onCancel","toUpperCase","BookingCard","Dashboard","booking","setBooking","loadUserBookings","b","DashboardSeller","loading","setLoading","loadSellersHotels","handleClick","confirm","stripe_seller","charges_enabled","HomeOutlined","HotelCreateForm","values","setValues","handleChange","handleImageChange","accept","hidden","NewHotel","preview","setPreview","hotelData","FormData","append","setTimeout","reload","URL","createObjectURL","files","StripeCallback","accountStatus","LoadingOutlined","HotelEditForm","length","EditHotel","match","setImage","loadSellerHotel","params","ViewHotel","setHotel","alreadyBooked","setAlreadyBooked","loadStripe","redirectToCheckout","sessionId","result","format","StripeCancel","SearchResult","queryString","search","App","userState","position","exact","path","component","StripeSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15d3c5d9.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TopNav = () => {\n  const dispatch = useDispatch();\n  const { auth } = useSelector((state) => ({ ...state }));\n  const history = useHistory();\n\n  const logout = () => {\n    dispatch({\n      type: \"LOGOUT\",\n      payload: null,\n    });\n    window.localStorage.removeItem(\"auth\");\n    history.push(\"/login\");\n  };\n\n  return (\n    <div className=\"nav bg-light d-flex justify-content-between\">\n      <Link className=\"nav-link\" to=\"/\">\n        Home\n      </Link>\n\n      {auth !== null && (\n        <Link className=\"nav-link\" to=\"/dashboard\">\n          Dashboard\n        </Link>\n      )}\n\n      {auth !== null && (\n        <a className=\"nav-link pointer\" href=\"#\" onClick={logout}>\n          Logout\n        </a>\n      )}\n\n      {auth === null && (\n        <>\n          <Link className=\"nav-link\" to=\"/login\">\n            Login\n          </Link>\n          <Link className=\"nav-link\" to=\"/register\">\n            Register\n          </Link>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default TopNav;\n","import { Route, Redirect } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nconst PrivateRoute = ({ ...rest }) => {\n  const { auth } = useSelector((state) => ({ ...state }));\n\n  return auth && auth.token ? <Route {...rest} /> : <Redirect to=\"/login\" />;\n};\n\nexport default PrivateRoute;\n","export const HOTELS = [\r\n    {_id: 1111,title: \"Trident Jaipur\",location:\"Jaipur, Rajasthan, India\",postedBy:{name:\"Ryan\"}, price: 1000, from: new Date(2022, 0, 1), to: new Date(), image: \"https://picsum.photos/500/300\",bed: 12,content : \"Luxurious 5-star accommodations and service awaits at Trident Jaipur, which features breathtaking views of peaceful Mansagar Lake and the Aravalli Range\"},\r\n    {_id: 1112,title: \"Holiday Inn Jaipur City Centre, an IHG Hotel\",location:\"Jaipur, Rajasthan, India\" ,postedBy:{name:\"Ryan\"},price: 2000, from: new Date(2022, 1, 1), to: new Date(), image: \"https://picsum.photos/500/300?grayscale\",bed: 12,content : \"Offering an outdoor swimming pool, a fitness center and a spa and wellness center, Holiday Inn Jaipur City Center is within 2.2 mi from the architectural marvel of the City Palace and the Amer Fort\"},\r\n    {_id: 1113,title: \"Hilton Jaipur\",location:\"Jaipur, Rajasthan, India\",postedBy:{name:\"Ryan\"}, price: 3000, from: new Date(2022, 2, 1), to: new Date(), image: \"https://picsum.photos/500/300\",bed: 12,content : \"Located at just a 10-minute drive from Jaipur Railway Station and 25-minute drive from Jaipur International Airport, Hilton Jaipur operates with a swimming pool and spectacular views of the scenic\"},\r\n    {_id: 1114,title: \"Radisson Jaipur City Center\",location:\"Jaipur, Rajasthan, India\",postedBy:{name:\"Ryan\"}, price: 3000, from: new Date(2022, 2, 1), to: new Date(), image: \"https://picsum.photos/500/300\",bed: 12,content : \"Located in Jaipur, a 10-minute walk from Sindhi Camp, Radisson Jaipur City Center has accommodations with a restaurant, free private parking, an outdoor swimming pool and a fitness center\"},\r\n    {_id: 1115,title: \"Jagat Niwas Palace\",location:\"Udaipur, Rajasthan, India\",postedBy:{name:\"Ryan\"}, price: 1000, from: new Date(2022, 0, 1), to: new Date(), image: \"https://picsum.photos/500/300\",bed: 12,content : \"Located on the eastern banks of the famous Lake Pichola and the Lal Ghat Road sits Jagat Niwas Palace, an early 17th century haveli (mansion) featuring traditional Mewar architecture\"},\r\n    {_id: 1116,title: \"Shiv Niwas Palace by HRH Group of Hotels\",location:\"Udaipur, Rajasthan, India\" ,postedBy:{name:\"Ryan\"},price: 2000, from: new Date(2022, 1, 1), to: new Date(), image: \"https://picsum.photos/500/300?grayscale\",bed: 12,content : \"The crescent-shaped palace, built in the early 20th century, in the reign of Maharana Fateh Singh been meticulously maintained and preserved\"},\r\n    {_id: 1117,title: \"Taj Lake Palace Udaipur\",location:\"Udaipur, Rajasthan, India\",postedBy:{name:\"Ryan\"}, price: 3000, from: new Date(2022, 2, 1), to: new Date(), image: \"https://picsum.photos/500/300\",bed: 12,content : \"Located in the middle of Lake Pichola and built in 1746, Taj Lake Palace is built with marble and features majestic architecture\"},\r\n    {_id: 1118,title: \"Hotel Mewari Villa\",location:\"Udaipur, Rajasthan, India\",postedBy:{name:\"Ryan\"}, price: 3000, from: new Date(2022, 2, 1), to: new Date(), image: \"https://picsum.photos/500/300\",bed: 12,content : \"Offering a restaurant, Hotel Mewari Villa is located in Udaipur. Free Wi-Fi access is available. Rooms here will provide you with a flat-screen TV, air conditioning and cable channels.\"}\r\n]\r\n\r\nexport const HOTELS_MOCK = {\r\n    data: HOTELS\r\n}\r\n\r\n\r\nexport const SINGLE_HOTELS_MOCK = {\r\n    data: HOTELS[0]\r\n}\r\n\r\nexport function getSelectedHotel(id) {\r\n    return {\r\n        data: HOTELS.find((hotel) => hotel._id == id)\r\n    }\r\n}","import {HOTELS} from './hotel'\r\n\r\n\r\n\r\n\r\nexport function searchHotels(query) {\r\n    const results = HOTELS.filter(hotes=> hotes.location.indexOf(query.location) != -1)\r\n    console.log(results)\r\n    return {\r\n        data: results\r\n    }\r\n}","import {HOTELS} from './hotel'\r\n\r\n\r\nexport const BOOKINGS_HOTELS = [\r\n    \r\n    {\r\n        _id: 1,\r\n        session: {\r\n            currency: \"USD\",\r\n            amount_total: 2000,\r\n            customer: 12,\r\n            payment_status: \"Paid\",\r\n            payment_intent:\"pid_78787878\"\r\n        },\r\n        hotel: HOTELS[0],\r\n        orderedBy:{name: 'Ryan'} ,\r\n\r\n    },\r\n    {\r\n        _id: 1,\r\n        session: {\r\n            currency: \"USD\",\r\n            amount_total: 4000,\r\n            customer: 78,\r\n            payment_status: \"Paid\",\r\n            payment_intent:\"pid_78787878\"\r\n        },\r\n        hotel: HOTELS[1],\r\n        orderedBy:{name: 'Ryan'} ,\r\n    }\r\n]\r\n\r\nexport const BOOKINGS_HOTELS_MOCK = {\r\n    data: BOOKINGS_HOTELS\r\n}\r\n","import axios from \"axios\";\nimport { getSelectedHotel, HOTELS_MOCK } from \"../mocks/hotel\";\nimport { searchHotels } from \"../mocks/search-hotels\";\nimport { BOOKINGS_HOTELS_MOCK } from \"../mocks/user-bookings\";\n\nexport const createHotel = async (token, data) =>\n  await axios.post(`${process.env.REACT_APP_API}/create-hotel`, data, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n// export const allHotels = async () =>\n//   await axios.get(`${process.env.REACT_APP_API}/hotels`);\n\nexport const allHotels = async () => HOTELS_MOCK\n\n\nexport const diffDays = (from, to) => {\n  const day = 24 * 60 * 60 * 1000;\n  const start = new Date(from);\n  const end = new Date(to);\n  const difference = Math.round(Math.abs((start - end) / day));\n  return difference;\n};\n\nexport const sellerHotels = async (token) =>\n  await axios.get(`${process.env.REACT_APP_API}/seller-hotels`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nexport const deleteHotel = async (token, hotelId) =>\n  await axios.delete(`${process.env.REACT_APP_API}/delete-hotel/${hotelId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n// export const read = async (hotelId) =>\n//   await axios.get(`${process.env.REACT_APP_API}/hotel/${hotelId}`);\n\n  export const read = async (hotelId) => getSelectedHotel(hotelId)\n  \n\nexport const updateHotel = async (token, data, hotelId) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/update-hotel/${hotelId}`,\n    data,\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n// export const userHotelBookings = async (token) =>\n//   await axios.get(`${process.env.REACT_APP_API}/user-hotel-bookings`, {\n//     headers: {\n//       Authorization: `Bearer ${token}`,\n//     },\n//   });\n\nexport const userHotelBookings = async (token) => BOOKINGS_HOTELS_MOCK\n\n// export const isAlreadyBooked = async (token, hotelId) =>\n//   await axios.get(`${process.env.REACT_APP_API}/is-already-booked/${hotelId}`, {\n//     headers: {\n//       Authorization: `Bearer ${token}`,\n//     },\n//   });\n\nexport const isAlreadyBooked = async (token, hotelId) => {\n  return {\n    data: {\n      ok: false\n    }\n  }\n}\n\n// export const searchListings = async (query) =>\n//   await axios.post(`${process.env.REACT_APP_API}/search-listings`, query);\n\nexport const searchListings = async (query) =>  searchHotels(query)\n \n","import axios from \"axios\";\n\nexport const createConnectAccount = async (token) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/create-connect-account`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const getAccountStatus = async (token) =>\n  axios.post(\n    `${process.env.REACT_APP_API}/get-account-status`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const getAccountBalance = async (token) =>\n  axios.post(\n    `${process.env.REACT_APP_API}/get-account-balance`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const currencyFormatter = (data) => {\n  return (data.amount / 100).toLocaleString(data.currency, {\n    style: \"currency\",\n    currency: data.currency,\n  });\n};\n\nexport const payoutSetting = async (token) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/payout-setting`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const getSessionId = async (token, hotelId) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/stripe-session-id`,\n    {\n      hotelId,\n    },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const stripeSuccessRequest = async (token, hotelId) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/stripe-success`,\n    { hotelId },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n","import { currencyFormatter } from \"../../actions/stripe\";\nimport { diffDays } from \"../../actions/hotel\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\n\nconst SmallCard = ({\n  h,\n  handleHotelDelete = (f) => f,\n  owner = false,\n  showViewMoreButton = true,\n}) => {\n  const history = useHistory();\n  return (\n    <>\n      <div className=\"card mb-3\">\n        <div className=\"row no-gutters\">\n          <div className=\"col-md-4\">\n            {/* {h.image && h.image.contentType ? (\n              <img\n                src={`${process.env.REACT_APP_API}/hotel/image/${h._id}`}\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            ) : (\n              <img\n                src=\"https://via.placeholder.com/900x500.png?text=MERN+Booking\"\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            )} */}\n\n            {h.image ? (\n              <img\n                src={`${h.image}`}\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            ) : (\n              <img\n                src=\"https://via.placeholder.com/900x500.png?text=MERN+Booking\"\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            )}    \n          </div>\n          <div className=\"col-md-8\">\n            <div className=\"card-body\">\n              <h3 className=\"card-title\">\n                {h.title}{\" \"}\n                <span className=\"float-right text-primary\">\n                  {currencyFormatter({\n                    amount: h.price * 100,\n                    currency: \"usd\",\n                  })}\n                </span>{\" \"}\n              </h3>\n              <p className=\"alert alert-info\">{h.location}</p>\n              <p className=\"card-text\">{`${h.content.substring(1, 200)}...`}</p>\n              <p className=\"card-text\">\n                <span className=\"float-right text-primary\">\n                  for {diffDays(h.from, h.to)}{\" \"}\n                  {diffDays(h.from, h.to) <= 1 ? \" day\" : \" days\"}\n                </span>\n              </p>\n              <p className=\"card-text\">{h.bed} bed</p>\n              <p className=\"card-text\">\n                Available from {new Date(h.from).toLocaleDateString()}\n              </p>\n\n              <div className=\"d-flex justify-content-between h4\">\n                {showViewMoreButton && (\n                  <button\n                    onClick={() => history.push(`/hotel/${h._id}`)}\n                    className=\"btn btn-primary\"\n                  >\n                    Show more\n                  </button>\n                )}\n                {owner && (\n                  <>\n                    <Link to={`/hotel/edit/${h._id}`}>\n                      <EditOutlined className=\"text-warning\" />\n                    </Link>\n                    <DeleteOutlined\n                      onClick={() => handleHotelDelete(h._id)}\n                      className=\"text-danger\"\n                    />\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SmallCard;\n","import React, { useState } from \"react\";\nimport { DatePicker, Select } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport AlgoliaPlaces from \"algolia-places-react\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\n// destructure values from ant components\nconst { RangePicker } = DatePicker;\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_API_KEY,\n  language: \"en\",\n  // countries: [\"au\"],\n};\n\nconst Search = () => {\n  // state\n  const [location, setLocation] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [bed, setBed] = useState(\"\");\n  // route\n  const history = useHistory();\n\n  const handleSubmit = () => {\n    history.push(`/search-result?location=${location}&date=${date}&bed=${bed}`);\n  };\n\n  return (\n    <div className=\"d-flex pb-4\">\n      <div className=\"w-100\">\n        <AlgoliaPlaces\n          placeholder=\"Location\"\n          defaultValue={location}\n          options={config}\n          onChange={({ suggestion }) => setLocation(suggestion.value)}\n          style={{ height: \"50px\" }}\n        />\n      </div>\n\n      <RangePicker\n        onChange={(value, dateString) => setDate(dateString)}\n        disabledDate={(current) =>\n          current && current.valueOf() < moment().subtract(1, \"days\")\n        }\n        className=\"w-100\"\n      />\n\n      <Select\n        onChange={(value) => setBed(value)}\n        className=\"w-100\"\n        size=\"large\"\n        placeholder=\"Number of beds\"\n      >\n        <Option key={1}>{1}</Option>\n        <Option key={2}>{2}</Option>\n        <Option key={3}>{3}</Option>\n        <Option key={4}>{4}</Option>\n      </Select>\n\n      <SearchOutlined\n        onClick={handleSubmit}\n        className=\"btn btn-primary p-3 btn-square\"\n      />\n    </div>\n  );\n};\n\nexport default Search;\n","import { useState, useEffect } from \"react\";\nimport { allHotels } from \"../actions/hotel\";\nimport SmallCard from \"../components/cards/SmallCard\";\nimport Search from \"../components/forms/Search\";\n\nconst Home = () => {\n  const [hotels, setHotels] = useState([]);\n\n  useEffect(() => {\n    loadAllhotels();\n  }, []);\n\n  const loadAllhotels = async () => {\n    let res = await allHotels();\n    setHotels(res.data);\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h1>All Hotels</h1>\n      </div>\n      <div className=\"col\">\n        <br />\n        <Search />\n      </div>\n      <div className=\"container-fluid\">\n        <br />\n        {/* <pre>{JSON.stringify(hotels, null, 4)}</pre> */}\n        {hotels.map((h) => (\n          <SmallCard key={h._id} h={h} />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import axios from \"axios\";\n\nexport const register = async (user) =>\n  await axios.post(`${process.env.REACT_APP_API}/register`, user);\n\nexport const login = async (user) =>\n  await axios.post(`${process.env.REACT_APP_API}/login`, user);\n\n// update user in local storage\nexport const updateUserInLocalStorage = (user, next) => {\n  if (window.localStorage.getItem(\"auth\")) {\n    let auth = JSON.parse(localStorage.getItem(\"auth\"));\n    auth.user = user;\n    localStorage.setItem(\"auth\", JSON.stringify(auth));\n    next();\n  }\n};\n","const LoginForm = ({\n  handleSubmit,\n  email,\n  setEmail,\n  password,\n  setPassword,\n}) => (\n  <form onSubmit={handleSubmit} className=\"mt-3\">\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Email address</label>\n      <input\n        type=\"email\"\n        className=\"form-control\"\n        placeholder=\"Enter email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n    </div>\n\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        placeholder=\"Enter password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n    </div>\n\n    <button disabled={!email || !password} className=\"btn btn-primary\">\n      Submit\n    </button>\n  </form>\n);\n\nexport default LoginForm;\n","export  const LOGIN_MOCK = {\r\n    data: {\r\n        token: \"iiwui2uubb3\",\r\n        user: {\r\n            name: \"Ryan\",\r\n            createdAt: new Date(),     \r\n            email: \"test@gmail.com\"       \r\n        },\r\n    }\r\n}","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { login } from \"../actions/auth\";\nimport LoginForm from \"../components/LoginForm\";\nimport { useDispatch } from \"react-redux\";\nimport { LOGIN_MOCK } from \"../mocks/user\";\n\nconst Login = ({ history }) => {\n  const [email, setEmail] = useState(\"ryan@gmail.com\");\n  const [password, setPassword] = useState(\"rrrrrr\");\n\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    console.log(\"SEND LOGIN DATA\", { email, password });\n    try {\n      // let res = await login({ email, password });\n      let res  = LOGIN_MOCK\n\n      if (res.data) {\n        console.log(\n          \"SAVE USER RES IN REDUX AND LOCAL STORAGE THEN REDIRECT ===> \"\n        );\n        // console.log(res.data);\n        // save user and token to local storage\n        window.localStorage.setItem(\"auth\", JSON.stringify(res.data));\n        // save user and token to redux\n        dispatch({\n          type: \"LOGGED_IN_USER\",\n          payload: res.data,\n        });\n        history.push(\"/dashboard\");\n      }\n    } catch (err) {\n      console.log(err);\n      if (err.response.status === 400) toast.error(err.response.data);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h1>Login</h1>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3\">\n            <LoginForm\n              handleSubmit={handleSubmit}\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n","const RegisterForm = ({\n  handleSubmit,\n  name,\n  setName,\n  email,\n  setEmail,\n  password,\n  setPassword,\n}) => (\n  <form onSubmit={handleSubmit} className=\"mt-3\">\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Your name</label>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        placeholder=\"Enter name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n    </div>\n\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Email address</label>\n      <input\n        type=\"email\"\n        className=\"form-control\"\n        placeholder=\"Enter email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n    </div>\n\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        placeholder=\"Enter password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n    </div>\n\n    <button disabled={!name || !email || !password} className=\"btn btn-primary\">\n      Submit\n    </button>\n  </form>\n);\n\nexport default RegisterForm;\n","import { useState } from \"react\";\nimport RegisterForm from \"../components/RegisterForm\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { register } from \"../actions/auth\";\n\nconst Register = ({ history }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await register({\n        name,\n        email,\n        password,\n      });\n      console.log(\"REGISTER USER ===> \", res);\n      toast.success(\"Register success. Please login.\");\n      history.push(\"/login\");\n    } catch (err) {\n      console.log(err);\n      if (err.response.status === 400) toast.error(err.response.data);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h1>Register</h1>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3\">\n            <RegisterForm\n              handleSubmit={handleSubmit}\n              name={name}\n              setName={setName}\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Register;\n","import { Link } from \"react-router-dom\";\n\nconst DashboardNav = () => {\n  const active = window.location.pathname;\n  //   console.log(active);\n  return (\n    <ul className=\"nav nav-tabs\">\n      <li className=\"nav-item\">\n        <Link\n          className={`nav-link ${active === \"/dashboard\" && \"active\"}`}\n          to=\"/dashboard\"\n        >\n          Your Bookings\n        </Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link\n          className={`nav-link ${active === \"/dashboard/seller\" && \"active\"}`}\n          to=\"/dashboard/seller\"\n        >\n          Your Hotels\n        </Link>\n      </li>\n    </ul>\n  );\n};\n\nexport default DashboardNav;\n","import { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Card, Avatar, Badge } from \"antd\";\nimport moment from \"moment\";\nimport {\n  getAccountBalance,\n  currencyFormatter,\n  payoutSetting,\n} from \"../actions/stripe\";\nimport { SettingOutlined } from \"@ant-design/icons\";\nimport { toast } from \"react-toastify\";\n\nconst { Meta } = Card;\nconst { Ribbon } = Badge;\n\nconst ConnectNav = () => {\n  const [loading, setLoading] = useState(false);\n  const [balance, setBalance] = useState(0);\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { user, token } = auth;\n\n  useEffect(() => {\n    getAccountBalance(auth.token).then((res) => {\n      // console.log(res);\n      setBalance(res.data);\n    });\n  }, []);\n\n  const handlePayoutSettings = async () => {\n    setLoading(true);\n    try {\n      const res = await payoutSetting(token);\n      // console.log(\"RES FOR PAYOUT SETTING LINK\", res);\n      window.location.href = res.data.url;\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n      setLoading(false);\n      toast(\"Unable to access settings. Try again\");\n    }\n  };\n\n  return (\n    <div className=\"d-flex justify-content-around\">\n      <Card>\n        <Meta\n          avatar={<Avatar>{user.name[0]}</Avatar>}\n          title={user.name}\n          description={`Joined ${moment(user.createdAt).fromNow()}`}\n        />\n      </Card>\n      {auth && false && \n        auth.user &&\n        auth.user.stripe_seller &&\n        auth.user.stripe_seller.charges_enabled && (\n          <>\n            <Ribbon text=\"Avaliable\" color=\"grey\">\n              <Card className=\"bg-light pt-1\">\n                {balance &&\n                  balance.pending &&\n                  balance.pending.map((bp, i) => (\n                    <span key={i} className=\"lead\">\n                      {currencyFormatter(bp)}\n                    </span>\n                  ))}\n              </Card>\n            </Ribbon>\n            <Ribbon text=\"Payouts\" color=\"silver\">\n              <Card onClick={handlePayoutSettings} className=\"bg-light pointer\">\n                <SettingOutlined className=\"h5 pt-2\" />\n              </Card>\n            </Ribbon>\n          </>\n        )}\n    </div>\n  );\n};\n\nexport default ConnectNav;\n","import { Modal } from \"antd\";\n\nconst OrderModal = ({ session, orderedBy, showModal, setShowModal }) => {\n  return (\n    <Modal\n      visible={showModal}\n      title=\"Order payment info\"\n      onCancel={() => setShowModal(!showModal)}\n    >\n      <p>Payment intent: {session.payment_intent}</p>\n      <p>Payment status: {session.payment_status}</p>\n      <p>\n        Amount total: {session.currency.toUpperCase()}{\" \"}\n        {session.amount_total / 100}\n      </p>\n      <p>Stripe customer id: {session.customer}</p>\n      <p>Customer: {orderedBy.name}</p>\n    </Modal>\n  );\n};\n\nexport default OrderModal;\n","import { useState } from \"react\";\nimport { currencyFormatter } from \"../../actions/stripe\";\nimport { diffDays } from \"../../actions/hotel\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport OrderModal from \"../modals/OrderModal\";\n\nconst BookingCard = ({ hotel, session, orderedBy }) => {\n  const [showModal, setShowModal] = useState(false);\n\n  const history = useHistory();\n  return (\n    <>\n      <div className=\"card mb-3\">\n        <div className=\"row no-gutters\">\n          <div className=\"col-md-4\">\n            {/* {hotel.image && hotel.image.contentType ? (\n              <img\n                src={`${process.env.REACT_APP_API}/hotel/image/${hotel._id}`}\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            ) : (\n              <img\n                src=\"https://via.placeholder.com/900x500.png?text=MERN+Booking\"\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            )} */}\n\n{hotel.image  ? (\n              <img\n                src={`${hotel.image}`}\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            ) : (\n              <img\n                src=\"https://via.placeholder.com/900x500.png?text=MERN+Booking\"\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            )}\n          </div>\n          <div className=\"col-md-8\">\n            <div className=\"card-body\">\n              <h3 className=\"card-title\">\n                {hotel.title}{\" \"}\n                <span className=\"float-right text-primary\">\n                  {currencyFormatter({\n                    amount: hotel.price * 100,\n                    currency: \"usd\",\n                  })}\n                </span>{\" \"}\n              </h3>\n              <p className=\"alert alert-info\">{hotel.location}</p>\n              <p className=\"card-text\">{`${hotel.content.substring(\n                1,\n                200\n              )}...`}</p>\n              <p className=\"card-text\">\n                <span className=\"float-right text-primary\">\n                  for {diffDays(hotel.from, hotel.to)}{\" \"}\n                  {diffDays(hotel.from, hotel.to) <= 1 ? \" day\" : \" days\"}\n                </span>\n              </p>\n              <p className=\"card-text\">{hotel.bed} bed</p>\n              <p className=\"card-text\">\n                Available from {new Date(hotel.from).toLocaleDateString()}\n              </p>\n\n              {showModal && (\n                <OrderModal\n                  session={session}\n                  orderedBy={orderedBy}\n                  showModal={showModal}\n                  setShowModal={setShowModal}\n                />\n              )}\n\n              <div className=\"d-flex justify-content-between h4\">\n                <button\n                  onClick={() => setShowModal(!showModal)}\n                  className=\"btn btn-primary\"\n                >\n                  Show Payment info\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default BookingCard;\n","import DashboardNav from \"../components/DashboardNav\";\nimport ConnectNav from \"../components/ConnectNav\";\nimport { Link } from \"react-router-dom\";\nimport { userHotelBookings } from \"../actions/hotel\";\nimport { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport BookingCard from \"../components/cards/BookingCard\";\n\nconst Dashboard = () => {\n  const {\n    auth: { token },\n  } = useSelector((state) => ({ ...state }));\n  const [booking, setBooking] = useState([]);\n\n  useEffect(() => {\n    loadUserBookings();\n  }, []);\n\n  const loadUserBookings = async () => {\n    const res = await userHotelBookings(token);\n    console.log(res);\n    setBooking(res.data);\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5\">\n        <ConnectNav />\n      </div>\n\n      <div className=\"container-fluid p-4\">\n        <DashboardNav />\n      </div>\n\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <h2>Your Bookings</h2>\n          </div>\n          <div className=\"col-md-2\">\n            <Link to=\"/\" className=\"btn btn-primary\">\n              Browse Hotels\n            </Link>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {booking.map((b) => (\n          <BookingCard\n            key={b._id}\n            hotel={b.hotel}\n            session={b.session}\n            orderedBy={b.orderedBy}\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import { useState, useEffect } from \"react\";\nimport DashboardNav from \"../components/DashboardNav\";\nimport ConnectNav from \"../components/ConnectNav\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { HomeOutlined } from \"@ant-design/icons\";\nimport { createConnectAccount } from \"../actions/stripe\";\nimport { sellerHotels, deleteHotel } from \"../actions/hotel\";\nimport { toast } from \"react-toastify\";\nimport SmallCard from \"../components/cards/SmallCard\";\n\nconst DashboardSeller = () => {\n  const { auth } = useSelector((state) => ({ ...state }));\n  const [hotels, setHotels] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadSellersHotels();\n  }, []);\n\n  const loadSellersHotels = async () => {\n    let { data } = await sellerHotels(auth.token);\n    setHotels(data);\n  };\n\n  const handleClick = async () => {\n    setLoading(true);\n    try {\n      let res = await createConnectAccount(auth.token);\n      console.log(res); // get login link\n      window.location.href = res.data;\n    } catch (err) {\n      console.log(err);\n      toast.error(\"Stripe connect failed, Try again.\");\n      setLoading(false);\n    }\n  };\n\n  const handleHotelDelete = async (hotelId) => {\n    if (!window.confirm(\"Are you sure?\")) return;\n    deleteHotel(auth.token, hotelId).then((res) => {\n      toast.success(\"Hotel Deleted\");\n      loadSellersHotels();\n    });\n  };\n\n  const connected = () => (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-10\">\n          <h2>Your Hotels</h2>\n        </div>\n        <div className=\"col-md-2\">\n          <Link to=\"/hotels/new\" className=\"btn btn-primary\">\n            + Add New\n          </Link>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {hotels.map((h) => (\n          <SmallCard\n            key={h._id}\n            h={h}\n            showViewMoreButton={false}\n            owner={true}\n            handleHotelDelete={handleHotelDelete}\n          />\n        ))}\n      </div>\n    </div>\n  );\n\n  const notConnected = () => (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3 text-center\">\n          <div className=\"p-5 pointer\">\n            <HomeOutlined className=\"h1\" />\n            <h4>Setup payouts to post hotel rooms</h4>\n            <p className=\"lead\">\n              MERN partners with stripe to transfer earnings to your bank\n              account\n            </p>\n            <button\n              disabled={loading}\n              onClick={handleClick}\n              className=\"btn btn-primary mb-3\"\n            >\n              {loading ? \"Processing...\" : \"Setup Payouts\"}\n            </button>\n            <p className=\"text-muted\">\n              <small>\n                You'll be redirected to Stripe to complete the onboarding\n                process.\n              </small>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5\">\n        <ConnectNav />\n      </div>\n\n      <div className=\"container-fluid p-4\">\n        <DashboardNav />\n      </div>\n\n      {auth &&\n      auth.user &&\n      auth.user.stripe_seller &&\n      auth.user.stripe_seller.charges_enabled\n        ? connected()\n        : notConnected()}\n\n      {/* <pre>{JSON.stringify(auth, null, 4)}</pre> */}\n    </>\n  );\n};\n\nexport default DashboardSeller;\n","import AlgoliaPlaces from \"algolia-places-react\";\nimport { DatePicker, Select } from \"antd\";\nimport moment from \"moment\";\n\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_API_KEY,\n  language: \"en\",\n  // countries: [\"au\"],\n};\n\nconst HotelCreateForm = ({\n  values,\n  setValues,\n  handleChange,\n  handleImageChange,\n  handleSubmit,\n  location,\n  setLocation,\n}) => {\n  const { title, content, price } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"btn btn-outline-secondary btn-block m-2 text-left\">\n          Image\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={handleImageChange}\n            accept=\"image/*\"\n            hidden\n          />\n        </label>\n\n        <input\n          type=\"text\"\n          name=\"title\"\n          onChange={handleChange}\n          placeholder=\"Title\"\n          className=\"form-control m-2\"\n          value={title}\n        />\n\n        <textarea\n          name=\"content\"\n          onChange={handleChange}\n          placeholder=\"Content\"\n          className=\"form-control m-2\"\n          value={content}\n        />\n\n        <AlgoliaPlaces\n          className=\"form-control m-2\"\n          placeholder=\"Location\"\n          defaultValue={location}\n          options={config}\n          onChange={({ suggestion }) => setLocation(suggestion.value)}\n          style={{ height: \"50px\" }}\n        />\n\n        <input\n          type=\"number\"\n          name=\"price\"\n          onChange={handleChange}\n          placeholder=\"Price\"\n          className=\"form-control m-2\"\n          value={price}\n        />\n\n        <Select\n          onChange={(value) => setValues({ ...values, bed: value })}\n          className=\"w-100 m-2\"\n          size=\"large\"\n          placeholder=\"Number of beds\"\n        >\n          <Option key={1}>{1}</Option>\n          <Option key={2}>{2}</Option>\n          <Option key={3}>{3}</Option>\n          <Option key={4}>{4}</Option>\n        </Select>\n      </div>\n\n      <DatePicker\n        placeholder=\"From date\"\n        className=\"form-control m-2\"\n        onChange={(date, dateString) =>\n          setValues({ ...values, from: dateString })\n        }\n        disabledDate={(current) =>\n          current && current.valueOf() < moment().subtract(1, \"days\")\n        }\n      />\n\n      <DatePicker\n        placeholder=\"To date\"\n        className=\"form-control m-2\"\n        onChange={(date, dateString) =>\n          setValues({ ...values, to: dateString })\n        }\n        disabledDate={(current) =>\n          current && current.valueOf() < moment().subtract(1, \"days\")\n        }\n      />\n\n      <button className=\"btn btn-outline-primary m-2\">Save</button>\n    </form>\n  );\n};\n\nexport default HotelCreateForm;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { DatePicker, Select } from \"antd\";\nimport { createHotel } from \"../actions/hotel\";\nimport { useSelector } from \"react-redux\";\nimport HotelCreateForm from \"../components/forms/HotelCreateForm\";\n\nconst { Option } = Select;\n\nconst NewHotel = () => {\n  // redux\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { token } = auth;\n  // state\n  const [values, setValues] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n    price: \"\",\n    from: \"\",\n    to: \"\",\n    bed: \"\",\n  });\n  const [preview, setPreview] = useState(\n    \"https://via.placeholder.com/100x100.png?text=PREVIEW\"\n  );\n  const [location, setLocation] = useState(\"\");\n  // destructuring variables from state\n  const { title, content, image, price, from, to, bed } = values;\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // console.log(values);\n    // console.log(location);\n\n    let hotelData = new FormData();\n    hotelData.append(\"title\", title);\n    hotelData.append(\"content\", content);\n    hotelData.append(\"location\", location);\n    hotelData.append(\"price\", price);\n    image && hotelData.append(\"image\", image);\n    hotelData.append(\"from\", from);\n    hotelData.append(\"to\", to);\n    hotelData.append(\"bed\", bed);\n\n    console.log([...hotelData]);\n\n    try {\n      let res = await createHotel(token, hotelData);\n      console.log(\"HOTEL CREATE RES\", res);\n      toast.success(\"New hotel is posted\");\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data);\n    }\n  };\n\n  const handleImageChange = (e) => {\n    // console.log(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n    setValues({ ...values, image: e.target.files[0] });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h2>Add Hotel</h2>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <br />\n            <HotelCreateForm\n              values={values}\n              setValues={setValues}\n              handleChange={handleChange}\n              handleImageChange={handleImageChange}\n              handleSubmit={handleSubmit}\n              location={location}\n              setLocation={setLocation}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <img\n              src={preview}\n              alt=\"preview_image\"\n              className=\"img img-fluid m-2\"\n            />\n            <pre>{JSON.stringify(values, null, 4)}</pre>\n            {JSON.stringify(location)}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default NewHotel;\n","import { useEffect } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getAccountStatus } from \"../actions/stripe\";\nimport { updateUserInLocalStorage } from \"../actions/auth\";\n\nconst StripeCallback = ({ history }) => {\n  const { auth } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (auth && auth.token) accountStatus();\n  }, [auth]);\n\n  const accountStatus = async () => {\n    try {\n      const res = await getAccountStatus(auth.token);\n      // console.log(\"USER ACCOUNT STATUS ON STRIPE CALLBACK\", res);\n      // update user in local storage\n      updateUserInLocalStorage(res.data, () => {\n        // update user in redux\n        dispatch({\n          type: \"LOGGED_IN_USER\",\n          payload: res.data,\n        });\n        // redirect user to dashboard\n        window.location.href = \"/dashboard/seller\";\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"d-flex justify-content-center p-5\">\n      <LoadingOutlined className=\"display-1 p-5 text-danger\" />\n    </div>\n  );\n};\n\nexport default StripeCallback;\n","import AlgoliaPlaces from \"algolia-places-react\";\nimport { DatePicker, Select } from \"antd\";\nimport moment from \"moment\";\n\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_API_KEY,\n  language: \"en\",\n  // countries: [\"au\"],\n};\n\nconst HotelEditForm = ({\n  values,\n  setValues,\n  handleChange,\n  handleImageChange,\n  handleSubmit,\n}) => {\n  const { title, content, location, price, bed, from, to } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"btn btn-outline-secondary btn-block m-2 text-left\">\n          Image\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={handleImageChange}\n            accept=\"image/*\"\n            hidden\n          />\n        </label>\n\n        <input\n          type=\"text\"\n          name=\"title\"\n          onChange={handleChange}\n          placeholder=\"Title\"\n          className=\"form-control m-2\"\n          value={title}\n        />\n\n        <textarea\n          name=\"content\"\n          onChange={handleChange}\n          placeholder=\"Content\"\n          className=\"form-control m-2\"\n          value={content}\n        />\n\n        {location && location.length && (\n          <AlgoliaPlaces\n            className=\"form-control m-2\"\n            placeholder=\"Location\"\n            defaultValue={location}\n            options={config}\n            onChange={({ suggestion }) =>\n              setValues({ ...values, location: suggestion.value })\n            }\n            style={{ height: \"50px\" }}\n          />\n        )}\n\n        <input\n          type=\"number\"\n          name=\"price\"\n          onChange={handleChange}\n          placeholder=\"Price\"\n          className=\"form-control m-2\"\n          value={price}\n        />\n\n        <Select\n          onChange={(value) => setValues({ ...values, bed: value })}\n          className=\"w-100 m-2\"\n          size=\"large\"\n          placeholder=\"Number of beds\"\n          value={bed}\n        >\n          <Option key={1}>{1}</Option>\n          <Option key={2}>{2}</Option>\n          <Option key={3}>{3}</Option>\n          <Option key={4}>{4}</Option>\n        </Select>\n      </div>\n\n      {from && (\n        <DatePicker\n          defaultValue={moment(from, \"YYYY-MM-DD\")}\n          placeholder=\"From date\"\n          className=\"form-control m-2\"\n          onChange={(date, dateString) =>\n            setValues({ ...values, from: dateString })\n          }\n          disabledDate={(current) =>\n            current && current.valueOf() < moment().subtract(1, \"days\")\n          }\n        />\n      )}\n\n      {to && (\n        <DatePicker\n          defaultValue={moment(to, \"YYYY-MM-DD\")}\n          placeholder=\"To date\"\n          className=\"form-control m-2\"\n          onChange={(date, dateString) =>\n            setValues({ ...values, to: dateString })\n          }\n          disabledDate={(current) =>\n            current && current.valueOf() < moment().subtract(1, \"days\")\n          }\n        />\n      )}\n\n      <button className=\"btn btn-outline-primary m-2\">Save</button>\n    </form>\n  );\n};\n\nexport default HotelEditForm;\n","import { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { DatePicker, Select } from \"antd\";\nimport { read, updateHotel } from \"../actions/hotel\";\nimport { useSelector } from \"react-redux\";\nimport HotelEditForm from \"../components/forms/HotelEditForm\";\n\nconst { Option } = Select;\n\nconst EditHotel = ({ match }) => {\n  // redux\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { token } = auth;\n  // state\n  const [values, setValues] = useState({\n    title: \"\",\n    content: \"\",\n    location: \"\",\n    price: \"\",\n    from: \"\",\n    to: \"\",\n    bed: \"\",\n  });\n  const [image, setImage] = useState(\"\");\n  const [preview, setPreview] = useState(\n    \"https://via.placeholder.com/100x100.png?text=PREVIEW\"\n  );\n  // destructuring variables from state\n  const { title, content, price, from, to, bed, location } = values;\n\n  useEffect(() => {\n    loadSellerHotel();\n  }, []);\n\n  const loadSellerHotel = async () => {\n    let res = await read(match.params.hotelId);\n    // console.log(res);\n    setValues({ ...values, ...res.data });\n    setPreview(`${process.env.REACT_APP_API}/hotel/image/${res.data._id}`);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    let hotelData = new FormData();\n    hotelData.append(\"title\", title);\n    hotelData.append(\"content\", content);\n    hotelData.append(\"location\", location);\n    hotelData.append(\"price\", price);\n    image && hotelData.append(\"image\", image);\n    hotelData.append(\"from\", from);\n    hotelData.append(\"to\", to);\n    hotelData.append(\"bed\", bed);\n\n    try {\n      let res = await updateHotel(token, hotelData, match.params.hotelId);\n      console.log(\"HOTEL UPDATE RES\", res);\n      toast.success(`${res.data.title} is updated`);\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.err);\n    }\n  };\n\n  const handleImageChange = (e) => {\n    // console.log(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n    setImage(e.target.files[0]);\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h2>Edit Hotel</h2>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <br />\n            <HotelEditForm\n              values={values}\n              setValues={setValues}\n              handleChange={handleChange}\n              handleImageChange={handleImageChange}\n              handleSubmit={handleSubmit}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <img\n              src={preview}\n              alt=\"preview_image\"\n              className=\"img img-fluid m-2\"\n            />\n            <pre>{JSON.stringify(values, null, 4)}</pre>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default EditHotel;\n","import React, { useState, useEffect } from \"react\";\nimport { useStore } from \"react-redux\";\nimport { read, diffDays, isAlreadyBooked } from \"../actions/hotel\";\nimport { getSessionId } from \"../actions/stripe\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport { loadStripe } from \"@stripe/stripe-js\";\n\nconst ViewHotel = ({ match, history }) => {\n  const [hotel, setHotel] = useState({});\n  const [image, setImage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [alreadyBooked, setAlreadyBooked] = useState(false);\n\n  const { auth } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadSellerHotel();\n  }, []);\n\n  useEffect(() => {\n    if (auth && auth.token) {\n      isAlreadyBooked(auth.token, match.params.hotelId).then((res) => {\n        // console.log(res);\n        if (res.data.ok) setAlreadyBooked(true);\n      });\n    }\n  }, []);\n\n  const loadSellerHotel = async () => {\n    let res = await read(match.params.hotelId);\n    setHotel(res.data);\n    setImage(`${res.data.image}`);\n    // setImage(`${process.env.REACT_APP_API}/hotel/image/${res.data._id}`);\n  };\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n\n    if (!auth || !auth.token) {\n      history.push(\"/login\");\n      return;\n    }\n\n    setLoading(true);\n    if (!auth) history.push(\"/login\");\n    // console.log(auth.token, match.params.hotelId);\n    let res = await getSessionId(auth.token, match.params.hotelId);\n    // console.log(\"get sessionid resposne\", res.data.sessionId);\n    const stripe = await loadStripe(process.env.REACT_APP_STRIPE_KEY);\n    stripe\n      .redirectToCheckout({\n        sessionId: res.data.sessionId,\n      })\n      .then((result) => console.log(result));\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h1>{hotel.title}</h1>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <br />\n            <img src={image} alt={hotel.title} className=\"img img-fluid m-2\" />\n          </div>\n\n          <div className=\"col-md-6\">\n            <br />\n            <b>{hotel.content}</b>\n            <p className=\"alert alert-info mt-3\">${hotel.price}</p>\n            <p className=\"card-text\">\n              <span className=\"float-right text-primary\">\n                for {diffDays(hotel.from, hotel.to)}{\" \"}\n                {diffDays(hotel.from, hotel.to) <= 1 ? \" day\" : \" days\"}\n              </span>\n            </p>\n            <p>\n              From <br />{\" \"}\n              {moment(new Date(hotel.from)).format(\"MMMM Do YYYY, h:mm:ss a\")}\n            </p>\n            <p>\n              To <br />{\" \"}\n              {moment(new Date(hotel.to)).format(\"MMMM Do YYYY, h:mm:ss a\")}\n            </p>\n            <i>Posted by {hotel.postedBy && hotel.postedBy.name}</i>\n            <br />\n            <button\n              onClick={handleClick}\n              className=\"btn btn-block btn-lg btn-primary mt-3\"\n              disabled={loading || alreadyBooked}\n            >\n              {loading\n                ? \"Loading...\"\n                : alreadyBooked\n                ? \"Already Booked\"\n                : auth && auth.token\n                ? \"Book Now\"\n                : \"Login to Book\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ViewHotel;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { stripeSuccessRequest } from \"../actions/stripe\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst StripeCancel = ({ match, history }) => {\n  const {\n    auth: { token },\n  } = useSelector((state) => ({ ...state }));\n  // const { token } = auth;\n\n  useEffect(() => {\n    // console.log(\n    //   \"send this hotelid to backend to crate order\",\n    //   match.params.hotelId\n    // );\n    stripeSuccessRequest(token, match.params.hotelId).then((res) => {\n      if (res.data.success) {\n        // console.log(\"stripe success response\", res.data);\n        history.push(\"/dashboard\");\n      } else {\n        history.push(\"/stripe/cancel\");\n      }\n    });\n  }, [match.params.hotelId]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"d-flex justify-content-center p-5\">\n        <LoadingOutlined className=\"display-1 text-danger p-5\" />\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCancel;\n","import React from \"react\";\n\nconst StripeCancel = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"col\">\n        <h2 className=\"text-center p-5\">Payment failed. Try again.</h2>\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCancel;\n","import { useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"../components/forms/Search\";\nimport { searchListings } from \"../actions/hotel\";\nimport SmallCard from \"../components/cards/SmallCard\";\n\nconst SearchResult = () => {\n  // state\n  const [searchLocation, setSearchLocation] = useState(\"\");\n  const [searchDate, setSearchDate] = useState(\"\");\n  const [searchBed, setSearchBed] = useState(\"\");\n  const [hotels, setHotels] = useState([]);\n  // when component mounts, get search params from url and use to send search query to backend\n  useEffect(() => {\n    const { location, date, bed } = queryString.parse(window.location.search);\n    // console.table({ location, date, bed });\n    searchListings({ location, date, bed }).then((res) => {\n      console.log(\"SEARCH RESULTS ===>\", res.data);\n      setHotels(res.data);\n    });\n  }, [window.location.search]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <br />\n        <Search />\n      </div>\n      <div className=\"container\">\n        <div className=\"row\">\n          {hotels.map((h) => (\n            <SmallCard key={h._id} h={h} />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SearchResult;\n","// import those pages in App.js\n// then based on the path show each components using react-router components\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport TopNav from \"./components/TopNav\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n// components\nimport Home from \"./booking/Home\";\nimport Login from \"./auth/Login\";\nimport Register from \"./auth/Register\";\nimport Dashboard from \"./user/Dashboard\";\nimport DashboardSeller from \"./user/DashboardSeller\";\nimport NewHotel from \"./hotels/NewHotel\";\nimport StripeCallback from \"./stripe/StripeCallback\";\nimport EditHotel from \"./hotels/EditHotel\";\nimport ViewHotel from \"./hotels/ViewHotel\";\nimport StripeSuccess from \"./stripe/StripeSuccess\";\nimport StripeCancel from \"./stripe/StripeCancel\";\nimport SearchResult from \"./hotels/SearchResult\";\n\n/**\n * Lets create TopNavigation/menu bar so that we can easily TopNavigate between pages\n * lets write it in App.js before we move it to its own component\n */\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <TopNav />\n      <ToastContainer position=\"top-center\" />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n        <PrivateRoute\n          exact\n          path=\"/dashboard/seller\"\n          component={DashboardSeller}\n        />\n        <PrivateRoute exact path=\"/hotels/new\" component={NewHotel} />\n        <PrivateRoute\n          exact\n          path=\"/stripe/callback\"\n          component={StripeCallback}\n        />\n        <PrivateRoute exact path=\"/hotel/edit/:hotelId\" component={EditHotel} />\n        <Route exact path=\"/hotel/:hotelId\" component={ViewHotel} />\n        <PrivateRoute\n          exact\n          path=\"/stripe/success/:hotelId\"\n          component={StripeSuccess}\n        />\n        <PrivateRoute exact path=\"/stripe/cancel\" component={StripeCancel} />\n        <Route exact path=\"/search-result\" component={SearchResult} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","let userState;\n\nif (window.localStorage.getItem(\"auth\")) {\n  userState = JSON.parse(window.localStorage.getItem(\"auth\"));\n} else {\n  userState = null; // {}\n}\n\nexport const authReducer = (state = userState, action) => {\n  switch (action.type) {\n    case \"LOGGED_IN_USER\":\n      return { ...state, ...action.payload };\n    case \"LOGOUT\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\nimport { authReducer } from \"./auth\";\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"antd/dist/antd.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n// 1. import from react-redux and redux\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./reducers\";\n\n// 2. create user reducer function\n// 3. combine multiple reducers\n// 4. create redux store\nconst store = createStore(rootReducer, composeWithDevTools());\n\n// 5.  provice redux store to the entire app\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}